{"version":3,"sources":["../../src/pages/movimento/movimento.module.ts","../../src/model/movimento.model.ts","../../src/pages/movimento/movimento.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MovimentoPage } from './movimento';\nimport { TranslateModule } from '../../../node_modules/@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    MovimentoPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MovimentoPage),\n    TranslateModule.forChild()\n  ],\n})\nexport class MovimentoPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/movimento/movimento.module.ts","import { Categoria } from \"./categoria.model\";\r\nimport { Utente } from \"./utente.model\";\r\nimport { Famiglia } from \"./famiglia.model\";\r\n\r\nexport class Movimento {\r\n    id: number;\r\n    importo:number;\r\n    data: Date;\r\n    categoria: Categoria;\r\n    famiglia: Famiglia;  \r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/movimento.model.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Movimento } from '../../model/movimento.model';\nimport { UtenteService } from '../../services/utente.service';\nimport { NgForm } from '../../../node_modules/@angular/forms';\nimport { MovimentoService } from '../../services/movimento.service';\nimport { Categoria } from '../../model/categoria.model';\nimport { CategoriaService } from '../../services/categoria.service';\nimport { Utente } from '../../model/utente.model';\n\n@IonicPage()\n@Component({\n  selector: 'page-movimento',\n  templateUrl: 'movimento.html',\n})\nexport class MovimentoPage {\n\n  movimento = new Movimento();\n  categorie: Array<Categoria>;\n  inserimento: boolean = false;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,public movimentoService: MovimentoService, \n              public categoriaService :CategoriaService,public utenteService: UtenteService) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad MovimentoPage');\n    this.movimento =this.navParams.get(\"movimento\");\n    //flag for insert or create\n    this.inserimento = this.navParams.get(\"inserimento\");\n    //get category array to display\n    //TODO: mettere in array categorie solo quelle disponibili nella famiglia\n    this.categoriaService.list().subscribe((data:Array<Categoria>) =>{\n      this.categorie=data;})\n    //get current family\n    this.utenteService.getUtente().subscribe((data:Utente) =>{\n      this.movimento.famiglia=data.famiglia;\n      })\n    }\n\n  onSubmit(form: NgForm){\n    if(form.valid){\n      //Setto importo negativo per le uscite\n      if(this.movimento.categoria.segno == false){\n        this.movimento.importo *= -1;\n      }\n      if(this.inserimento){\n        this.movimentoService.createMovimento(this.movimento).subscribe(() =>{\n          this.navCtrl.pop()\n        });\n      } else{\n        this.movimentoService.updateMovimento(this.movimento).subscribe(() =>{\n          this.navCtrl.pop();\n        });\n      }\n    }\n  }\n  onDelete(){\n    this.movimentoService.deleteMovimento(this.movimento).subscribe(()=>{\n      this.navCtrl.pop();\n    })\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/movimento/movimento.ts"],"sourceRoot":""}